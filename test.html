<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

  <!DOCTYPE html>
  <html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="hoadon.js"></script>
  </head>

  <body>
    <div class="container">
      <form action="" onsubmit="return hoadon();">
        <h1>Hóa Đơn</h1>
        <div class="form-group">
          <label for="">Khách hàng</label>
          <input type="text" id="khachhang">
        </div>
        <div class="form-group">
          <label for="">Loại hàng</label>
          <select name="" id="loaihang" onchange=" Dongia();">
            <option value="chuachon">Chưa chọn</option>
            <option value="0">Loại 1</option>
            <option value="1">Loại 2</option>
            <option value="2">Loại 3</option>
          </select>
        </div>
        <div class="form-group">
          <label for="">Dơn giá</label>
          <input type="text" id="dongia" onchange="Thanhtien();">
        </div>
        <div class="form-group">
          <label for="">Số lượng</label>
          <input type="number" name="" id="soluong" min="0" step="1" onchange="Thanhtien();">
        </div>
        <div class="form-group">
          <label for="">Thành tiền</label>
          <input type="number" name="" id="thanhtien" min="0" step="1" onchange="Thanhtien(); Tongtien();  Dongia();">
        </div>
        <div class="form-group">
          <label for="">Nơi nhận hàng</label>
          <fieldset onchange="vanchuyen(); Tongtien()">
            <input type="radio" name="nnh" id="">Nội thành
            <input type="radio" name="nnh" id="">Ngoại thành
          </fieldset>
        </div>
        <div class="form-group">
          <label for="">Phí vận chuyển</label>
          <input type="text" id="pvc">
        </div>

        <div class="form-group">
          <label for="">Tổng Tiên</label>
          <input type="text" id="tongtien">
        </div>
        <div class="sumit">
          <button onclick="hoadon()">Đặt mua</button>
        </div>
      </form>
    </div>
  </body>

  </html>
  <script>
    function Thanhtien() {
      var soluong = document.getElementById("soluong");
      var dongia = document.getElementById("dongia");
      document.getElementById("thanhtien").value = Number(soluong.value) * Number(dongia.value);

    }

    function Dongia() {
      var loaihang = document.getElementById("loaihang");
      var dongia = document.getElementById("dongia");

      if (loaihang[1].selected) {
        dongia.value = 500000;
      }
      else if (loaihang[2].selected) {
        dongia.value = 300000;
      }
      else if (loaihang[3].selected) {
        dongia.value = 100000;
      }
      else {
        dongia.value = ""
      }
    }

function vanchuyen(){
  var noinhanhang= document.getElementsByName("nnh");
  var vanchuyen = document.getElementById("pvc");
  if (noinhanhang[0].checked){
    vanchuyen.value=0;
    return;
  }
  if (noinhanhang[1].checked){
    vanchuyen.value=30000;
    return;
  }
 
}

function hoadon(){
    var kh = document.getElementById("khachhang");
    if(kh.value==""){
        alert("Phải nhập khách hàng")
       return false;
    }
    var loaihang = document.getElementById("loaihang");
    if(loaihang.value=="chuachon"){
        alert("Phải nhập loại hàng")
        return false;
    }
    var dongia = document.getElementById("dongia");
    if(dongia.value==0){
        alert("Phải nhập đơn giá")
        return false;
    }
    
    var nnh = document.getElementsByName("nnh");
    if(!nnh[0].checked && !nnh[1].checked ){
        alert("Phải chọn nơi nhận hàng")
        return false;
    }
    alert("đặt hàng thành công")
}

function Tongtien(){
  vanchuyen()
  Thanhtien()
  var a= document.getElementById("thanhtien")
  var b= document.getElementById("pvc")
  var tongtien= Number(a.value)+Number(b.value)
  console.log(tongtien)
  document.getElementById("tongtien").value=tongtien;
}

  </script>
</body>

</html>